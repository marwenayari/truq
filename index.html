<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงูููุตุฉ ุงููุทููุฉ ููุนุงุฏุงุช ุงูุฃุตููุฉ</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/index.css">
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="logo">
      <a href="index.html" style="color:inherit;text-decoration:none;font-weight:bold;font-size:18px;"></a>
      <a href="">
        <span class="guidelinlk-wrapper" style="position:relative;display:inline-block;">
          <img src="img/guide.png" class="guidelinlk" alt="ุฏููู">
          <span class="guidelinlk-tooltip">ุฏููู ุงูุนุงุฏุงุช ุงูุณุนูุฏูุฉ ุงูุฃุตููุฉ</span>
        </span>
      </a>
    </div>
    <div class="actions">
      <button class="login-btn" id="loginBtn">ุชุณุฌูู ุงูุฏุฎูู</button>
      <div class="search-box">
        <input type="text" id="regionSearch" placeholder="ุงูููุทูุฉ | ุงูุฎุจูุฑ | ุงูุนุงุฏุฉ...">
        <span class="search-icon">๐</span>
      </div>
      <div class="menu">
        <button class="menu-btn" id="menuBtn">ุงููุงุฆูุฉ โฐ</button>
        <div class="dropdown" id="menuDropdown">
          <a href="#" id="mediaContent"> โธ ุงููุญุชูู ุงูุซูุงูู</a>
          <div class="dropdown submenu" id="mediaSubmenu" style="display:none;">
            <a href="manga.html">ูุงูุฌุง</a>
            <a href="podcast.html">ุจูุฏูุงุณุช</a>
            <a href="movies.html">ุฃููุงู</a>
          </div>
          <a href="experts.html" id="expertsPage">ุฎุจุฑุงุก ุงูุนุงุฏุงุช ุงูุฃุตููุฉ</a>
          <a href="activities.html" id="eventsPage">ุงูุฃูุดุทุฉ</a>
          <a href="contact.html" id="socialPage">ุชูุงุตู ุงุฌุชูุงุนู</a>
          <a href="#" id="socialPage">ููู ุชุตุจุญ ุฎุจูุฑุง</a>
          <a href="https://cup.moc.gov.sa/" target="_blank" target="_blank" id="kawn">
            <img src="img/kawn.png" width="30px" alt="">
            ููู ุงูุซูุงููุฉ
          </a>
        </div>
      </div>
    </div>
  </nav>

  <section class="location-section">
    <div class="location-info">
      <img src="img/location.jpg" alt="">
      <a href="region.html?id=0">
        <span>ุฃูุช ุงูุขู ูู ุงูุฑูุงุถ</span>
      </a>
    </div>
  </section>

  <!-- Titles -->
  <div class="titles">
    <div class="platform-title">ุงูููุตุฉ ุงููุทููุฉ ููุนุงุฏุงุช ุงูุฃุตููุฉ</div>
    <p class="subtitle">ูุงูุฐุชู ูุงูุชุดุงู ุงูุนุงุฏุงุช ุงูุฃุตููุฉ ุงูุณุนูุฏูุฉ</p>
  </div>

  <!-- Banner Section -->
  <section class="main-banner">
    <img src="img/banner.jpg" alt="ุจุงูุฑ ุงูุนุงุฏุงุช" class="banner-img">
    <div class="banner-overlay">
      <h2 class="banner-title">ุนุงุฏุงุชูุง ูููุชูุง</h2>
      <p class="banner-subtitle">ุชุนูู ุชุดุงุฑู ุชูุงุนู</p>
      <a href="#map-section" class="banner-btn">ุงูุชุดู ุชููุน ุฃุตุงูุชูุง</a>
    </div>
  </section>

  <!-- Interactive Map -->
  <section class="map-section" id="map-section">
    <div class="saudi-map" id="saudiMapContainer">
      <img src="img/map.png" alt="ุฎุฑูุทุฉ ุงูุณุนูุฏูุฉ" id="saudiMap">
      <!-- Pins will be injected by JS -->
    </div>
    <div style="margin-top:18px;color:#176d4d;font-size:18px;">ุงุถุบุท ุนูู ุงูููุทูุฉ ุฃู ุงุจุญุซ ุจุงุณููุง</div>
  </section>

  <!-- Floating AI Button -->
  <div class="floating-ai">
    <button class="floating-ai-btn" title="ูุณุงุนุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู">
      <span>AI</span>
    </button>
  </div>
  <div class="floating-access">
    <button class="floating-access-btn" title="ูุฐูู ุงูุงุญุชูุงุฌุงุช ุงูุฎุงุตุฉ">
      <img src="img/accessibility.png">
    </button>
  </div>

  <!-- Login Modal -->
  <div id="loginModal"
    style="display:none;position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,0.18);z-index:2000;align-items:center;justify-content:center;">
    <div
      style="background:#fff;border-radius:12px;max-width:340px;width:90vw;padding:28px 18px 18px 18px;box-shadow:0 2px 16px rgba(23,78,43,0.18);position:relative;">
      <button onclick="document.getElementById('loginModal').style.display='none'"
        style="position:absolute;top:10px;left:10px;background:none;border:none;font-size:22px;color:#174e2b;cursor:pointer;">ร</button>
      <h2 style="color:#174e2b;text-align:center;margin-top:0;">ุชุณุฌูู ุงูุฏุฎูู</h2>
      <button
        style="width:100%;background:#176d4d;color:#fff;padding:10px 0;border:none;border-radius:6px;font-size:17px;margin-bottom:12px;">ุฏุฎูู
        ุนุจุฑ ููุงุฐ</button>
      <div style="text-align:center;color:#aaa;margin:8px 0 8px 0;">ุฃู</div>
      <button
        style="width:100%;background:#ffcc70;color:#174e2b;padding:10px 0;border:none;border-radius:6px;font-size:17px;margin-bottom:10px;">ุฏุฎูู
        ุฃุนูุงู</button>
      <button
        style="width:100%;background:#ffcc70;color:#174e2b;padding:10px 0;border:none;border-radius:6px;font-size:17px;">ุฏุฎูู
        ุฎุจุฑุงุก ุงูุนุงุฏุงุช ุงูุฃุตููุฉ</button>
    </div>
  </div>

  <footer>
    ยฉ 2025 ุฌููุน ุงูุญููู ูุญููุธุฉ - ุงูููุตุฉ ุงููุทููุฉ ููุนุงุฏุงุช ุงูุฃุตููุฉ
  </footer>

  <script>
    // Example regions (should be defined elsewhere in your project or fetched)
    // Feel free to edit to your actual 13 regions
    const regions = [
      "ุงูุฑูุงุถ", "ููุฉ", "ุงููุฏููุฉ", "ุงููุตูู", "ุงูุดุฑููุฉ", "ุนุณูุฑ", "ุชุจูู",
      "ุญุงุฆู", "ุงูุญุฏูุฏ ุงูุดูุงููุฉ", "ุฌุงุฒุงู", "ูุฌุฑุงู", "ุงูุจุงุญุฉ", "ุงูุฌูู"
    ];
    // Regions coordinates (relative to map.png, adjust as needed)
    const regionCoords = [
      { top: 190, left: 230 }, // ุงูุฑูุงุถ
      { top: 220, left: 145 }, // ููุฉ
      { top: 160, left: 120 },  // ุงููุฏููุฉ
      { top: 130, left: 185 }, // ุงููุตูู
      { top: 190, left: 310 }, // ุงูุดุฑููุฉ
      { top: 265, left: 183 }, // ุนุณูุฑ
      { top: 90, left: 60 },   // ุชุจูู
      { top: 100, left: 160 },  // ุญุงุฆู
      { top: 60, left: 200 },  // ุงูุญุฏูุฏ ุงูุดูุงููุฉ
      { top: 300, left: 180 }, // ุฌุงุฒุงู
      { top: 284, left: 235 }, // ูุฌุฑุงู
      { top: 255, left: 155 },  // ุงูุจุงุญุฉ
      { top: 45, left: 105 },  // ุงูุฌูู
    ];

    // Inject pins on map
    window.addEventListener('DOMContentLoaded', function () {
      const map = document.getElementById('saudiMapContainer');
      const allPins = [];
      const allTooltips = [];
      if (typeof regions !== 'undefined') {
        regions.forEach((name, i) => {
          const pin = document.createElement('div');
          pin.className = 'region-pin';
          const coords = regionCoords[i] || { top: 100, left: 100 };
          pin.style.top = coords.top + 'px';
          pin.style.left = coords.left + 'px';
          pin.innerHTML = `
            <span style='font-size:15px;'>
              <img src='img/blackpin.jpg' alt='๐'>
            </span>
            <span onclick="redirecto(${i})" class='tooltip' style='display:none;cursor:pointer;'>${name}</span>
          `;

          const tooltip = pin.querySelector('.tooltip');
          allPins.push(pin);
          allTooltips.push(tooltip);

          // Utility: Hide all tooltips
          function hideAllTooltips() {
            allTooltips.forEach(t => t.style.display = 'none');
          }

          // Show tooltip for only this pin
          function showTooltip() {
            hideAllTooltips();
            tooltip.style.display = 'block';
          }

          // Mouse enter: show tooltip, hide others
          pin.addEventListener('mouseenter', showTooltip);

          // Click pin: show tooltip, hide others
          pin.addEventListener('click', function (e) {
            console.log(`Clicked region ${i}: ${name}`);
            showTooltip();
            e.stopPropagation();
            window.location.href = `region.html?id=${i}`;
          });

          // Click tooltip: redirect
          // tooltip.addEventListener('click', function (e) {
          //   console.log(`Redirecting to region ${i}: ${name}`);
          //   e.stopPropagation(); // Prevent document click from firing
          //   window.location.href = `region.html?id=${i}`;
          // });
          // function redirecto(id) {
          //   window.location.href = `region.html?id=${id}`;
          // }

          map.appendChild(pin);
        });

        // Clicking anywhere else: hide all tooltips (unless inside any tooltip)
        document.addEventListener('click', function (e) {
          // If click inside any tooltip, don't hide
          if ([...allTooltips].some(t => t.contains(e.target))) return;
          allTooltips.forEach(t => t.style.display = 'none');
        });
      }
    });

    // Search region
    document.getElementById('regionSearch').addEventListener('keydown', function (e) {
      if (e.key === 'Enter') {
        const val = this.value.trim();
        if (!val) return;
        const idx = regions.findIndex(r => r.replace(/\s/g, '').includes(val.replace(/\s/g, '')));
        if (idx !== -1) {
          window.location.href = `region.html?id=${idx}`;
        } else {
          alert('ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูููุทูุฉ');
        }
      }
    });
    // Login modal
    document.getElementById('loginBtn').onclick = function () {
      document.getElementById('loginModal').style.display = 'flex';
    };
    // Menu dropdown
    const menuBtn = document.getElementById('menuBtn');
    const menuDropdown = document.getElementById('menuDropdown');
    menuBtn.onclick = function (e) {
      e.stopPropagation();
      menuDropdown.classList.toggle('show');
    };
    document.body.addEventListener('click', function (e) {
      if (!menuDropdown.contains(e.target) && e.target !== menuBtn) {
        menuDropdown.classList.remove('show');
        document.getElementById('mediaSubmenu').style.display = 'none';
      }
    });
    // Media submenu
    document.getElementById('mediaContent').onclick = function (e) {
      e.preventDefault();
      const sub = document.getElementById('mediaSubmenu');
      sub.style.display = sub.style.display === 'block' ? 'none' : 'block';
    };
    // Floating AI button
    document.querySelector('.floating-ai-btn').onclick = function () {
      alert('ูุฑุญุจูุง! ููู ูููููู ูุณุงุนุฏุชู ุงููููุ');
    };
  </script>
</body>

</html>